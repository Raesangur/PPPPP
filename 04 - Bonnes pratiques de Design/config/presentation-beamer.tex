%!TEX root = ../presentation.tex 


\makeatletter
\let\slideno\beamer@slideinframe
\makeatother

\setbeamertemplate{caption}[numbered]


% Remove nagivation symbols for intro frame generation
\ifINTRO
    \includeonlyframes{intro}
    \setbeamertemplate{navigation symbols}{}
\fi


% -------------- ITEMS --------------

\setbeamertemplate{itemize item}{\large$\bullet$}
\setbeamertemplate{itemize subitem}{\small$\bullet$}
\setbeamertemplate{itemize subsubitem}{\tiny$\bullet$}
\usebeamertemplate{mytheme}


% -------------- TABLE OF CONTENT --------------
\newcommand\maketoc{%
    \defaultbackground
    \AtBeginSection[]{%
        \begin{frame}[plain]%
             \vfill%
             \centering%
             \begin{beamercolorbox}
             [sep=6pt, center, shadow=true, rounded=true]{title}%
                 \usebeamerfont{title}%
                 \insertsectionhead\\
             \end{beamercolorbox}%
             \tableofcontents%
                [currentsection, hideothersubsections]%
             \vfill%
      \end{frame}%
    }%

    \AtBeginSubsection[]{
        \begin{frame}[plain]
             \vfill
             \centering
             \begin{beamercolorbox}[sep=6pt,center,shadow=true,rounded=true]{title}
                 \usebeamerfont{title}\insertsectionhead\par%
             \end{beamercolorbox}
             \tableofcontents[currentsection,currentsubsection,subsectionstyle=show/shaded/hide]
             \vfill
        \end{frame}
    }
}%

% -------------- HEADER AND FOOTER --------------

\defbeamertemplate*{frametitle}{mytheme}{%
    \vspace{0cm}{
        \usebeamerfont{title}\usebeamercolor[bg]{title}%
        \insertframetitle}\\
    \vspace{-0.55cm}%
    \hfill%
    \includegraphics[height=0.635cm]{pictures/logo/c3i.png}%
    \includegraphics[height=0.635cm]{pictures/logo/m1_alpha.pdf}\\
    \vspace{-0.3cm}%
    \textcolor{UDSgreenSolidarite}{%
        \noindent\rule{\textwidth}{1pt}%
    }%
}%

\defbeamertemplate*{footline}{mytheme}{%
    \leavevmode%
    \hbox{%
        \begin{beamercolorbox}%
            [wd=.33\paperwidth, ht=2.25ex, dp=1ex, center]{author in head/foot}%
            \usebeamerfont{author in head/foot}%
                Pascal-Emmanuel Lachance
        \end{beamercolorbox}%
        \begin{beamercolorbox}%
            [wd=.34\paperwidth, ht=2.25ex, dp=1ex, center]%
            {title in head/foot}%
            \usebeamerfont{title in head/foot}%
                \inserttitle%
        \end{beamercolorbox}%
    }%
    \begin{beamercolorbox}%
        [wd=.33\paperwidth, ht=2.25ex, dp=1ex, right]%
        {date in head/foot}%
        \hfill\usebeamerfont{date in head/foot}%
            \today{}%
        \hfill%
        \insertframenumber{} / \inserttotalframenumber%
        \hspace*{2ex}%
    \end{beamercolorbox}%
}%

