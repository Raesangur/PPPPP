%!TEX root = ../presentation.tex

\section[Level 3]{Impedance \& Reflection [20min - 1h10]}

\introbackground
\begin{frame}[plain, label=intro-level-3]
    \centering
    \Large
    \textcolor{white}{\textbf{Sujets Abordés dans la Section:}}\\
    \vspace{24pt}
    \begin{tabular}{c l}
        \textcolor{UDSgreenFierte}{\faEye}
            & \textcolor{white}{\textbf{Impedance de Source} \& \textbf{GPIO}}\\
            [0.3em]
        \textcolor{UDSgreenFierte}{\faEye}
            & \textcolor{white}{Suite sur les propriété de \textbf{Matériaux} (paramètres complexes)}\\
            [0.3em]
        \textcolor{UDSgreenFierte}{\faEye}
            & \textcolor{white}{Introduction sur les \textbf{Impedance \& Lignes de transmission}}\\
            [0.3em]
        \textcolor{UDSgreenFierte}{\faHubspot}
            & \textcolor{white}{Introduction sur la \textbf{Réflection \& Transmission}}\\
            [0.3em]
    \end{tabular}
\end{frame}
\defaultbackground


\subsection[5min-Pascal]{Signal Source \rom{2}}
\pascalbackground
\begin{frame}{Source vs Sink}
    \begin{center}
        \textit{Où va le courant?}
    \end{center}

    \begin{twocolumns}
        \leftcol
        \begin{center}
            \textbf{Current Source}
        \end{center}
        \rightcol
        \begin{center}
            \textbf{Current Sink}
        \end{center}
    \end{twocolumns}
    \vfill
    \begin{twocolumns}
        \leftcol
        \ctikzset{bipoles/resistor/height=0.2}
        \ctikzset{bipoles/resistor/width=0.5}
        \ctikzset{bipoles/diode/height=0.35}
        \ctikzset{bipoles/diode/width=0.2}
        \begin{maketikzfigure}[1][0.45]
            \draw (0, 0) node [dipchip,
                num pins = 12,
                hide numbers,
                external pins width=0.3,
                external pad fraction=4,
                ](IC){};
            ]
            \only<1>{
                \node [left, font=\tiny] at (IC.bpin 9) {OUT};
            }

            \only<1>{
                \draw (IC.pin 9) to 
                    [short] ($(IC.pin 9) + (0.5, 0)$) to
                    [R] ($(IC.pin 9) + (1.5, 0)$) to
                    [empty led] ($(IC.pin 9) + (2.5, 0)$) to
                    [short] ($(IC.pin 7) + (2.5, 0)$) node [ground]{};
            }
            \only<2->{
                \draw (IC.pin 9) to 
                    [short] ($(IC.pin 9) + (0.5, 0)$) to
                    [R] ($(IC.pin 9) + (1.5, 0)$) to
                    [full led, color=accent] ($(IC.pin 9) + (2.5, 0)$) to
                    [short] ($(IC.pin 7) + (2.5, 0)$) node [ground]{};

                \draw [->, thick, accent]
                    ($(IC.pin 8) + (0.5, 0)$) to [in=90, out=0]
                    ($(IC.pin 7) + (2, 0)$);
            }
        \end{maketikzfigure}

        \rightcol
        \ctikzset{bipoles/resistor/height=0.2}
        \ctikzset{bipoles/resistor/width=0.5}
        \ctikzset{bipoles/diode/height=0.35}
        \ctikzset{bipoles/diode/width=0.2}
        \begin{maketikzfigure}[1][0.45]
            \draw (0, 0) node [dipchip,
                num pins = 12,
                hide numbers,
                external pins width=0.3,
                external pad fraction=4,
                ](IC){};
            ]
            \only<1>{
                \node [left, font=\tiny] at (IC.bpin 9) {OUT};
            }

            \only<1>{
                \draw (IC.pin 9) to 
                    [short] ($(IC.pin 9) + (0.5, 0)$) to
                    [R] ($(IC.pin 9) + (1.5, 0)$) to
                    [empty led, invert] ($(IC.pin 9) + (2.5, 0)$) to
                    [short] ($(IC.pin 12) + (2.5, 0)$) node [vcc]{};
            }
            \only<2->{
                \draw (IC.pin 9) to 
                    [short] ($(IC.pin 9) + (0.5, 0)$) to
                    [R] ($(IC.pin 9) + (1.5, 0)$) to
                    [full led, invert, color=accent] ($(IC.pin 9) + (2.5, 0)$) to
                    [short] ($(IC.pin 12) + (2.5, 0)$) node [vcc]{};

                \draw [->, thick, accent]
                    ($(IC.pin 12) + (2, 0)$) to [in=0, out=-90]
                    ($(IC.pin 10) + (0.5, 0)$);
            }
        \end{maketikzfigure}
    \end{twocolumns}
\end{frame}

\begin{frame}{Fonctionnement d'un GPIO}
    \begin{twocolumns}
        \leftcol
        \begin{center}
            \textbf{Push-Pull}
        \end{center}
        \rightcol
        \begin{center}
            \textbf{Open-Drain}
        \end{center}
    \end{twocolumns}
    \vfill
    \begin{twocolumns}
        \leftcol
        \begin{maketikzfigure}[1][0.66]
            \only<1, 4->{
                \draw [thick]
                    (0, 0) node (in)  {IN}
                    (3.5, 0) node (out) {OUT};
            }
            \only<2>{
                \draw [thick]
                    (0, 0) node[color=accent]  (in)  {IN}
                    (3.5, 0) node[color=accent2] (out) {OUT};
            }
            \only<3>{
                \draw [thick]
                    (0, 0) node[color=accent2] (in)  {IN}
                    (3.5, 0) node[color=accent]  (out) {OUT};
            }

            \only<1, 4->{
                \draw [thick]
                    (2, 1.5) node[pigfete, bodydiode] (pmos){};
                \draw [thick]
                    (2, -1.5) node[nigfete, bodydiode] (nmos){};
            }
            \only<2>{
                \draw [thick]
                    (2, 1.5) node[pigfete, bodydiode, color=accent2] (pmos){};
                \draw [thick]
                    (2, -1.5) node[nigfete, bodydiode, color=accent] (nmos){};
            }
            \only<3>{
                \draw [thick]
                    (2, 1.5) node[pigfete, bodydiode, color=accent] (pmos){};
                \draw [thick]
                    (2, -1.5) node[nigfete, bodydiode, color=accent2] (nmos){};
            }

            \draw [thick]
                (in.east) to [short] (0.5, 0) to [short] (0.5, 0 -| pmos.G) to (pmos.G);
            \draw [thick]
                (in.east) to [short] (0.5, 0) to [short] (0.5, 0 -| nmos.G) to (nmos.G);

            \draw [thick]
                (pmos.S) to [short] ($(pmos.S) + (0, 0.5)$) node[vcc]{};
            \draw [thick]
                (nmos.S) to [short] ($(nmos.S) - (0, 0.5)$) node[ground]{};

            \draw [thick]
                (pmos.D) to [short] (nmos.D);
            \draw [thick]
                (0, 0 -| pmos.D) to [short] (out.west);

            \only<2> {
                \draw[->, very thick, accent2] (out.south) to
                [in=90, out=180] (nmos.S -| 2.5, 0);
            }
            \only<3> {
                \draw[->, very thick, accent] (pmos.S -| 2.5, 0) to
                [in=180, out=-90] (out.north);
            }
        \end{maketikzfigure}
        \rightcol
        \ctikzset{bipoles/resistor/height=0.2}
        \ctikzset{bipoles/resistor/width=0.5}
        \begin{maketikzfigure}[1][0.66]
            \only<1-4>{
                \draw [thick]
                    (2, 0) node[nigfete, bodydiode] (nmos){};
            }
            \only<5>{
                \draw [thick]
                    (2, 0) node[nigfete, bodydiode, color=accent] (nmos){};
            }
            \only<6>{
                \draw [thick]
                    (2, 0) node[nigfete, bodydiode, color=accent2] (nmos){};
            }

            \only<1-4>{
                \draw [thick]
                    (nmos.G -| 0, 0) node (in)  {IN}
                    (5, 1) node (out) {OUT};
            }
            \only<5>{
                \draw [thick]
                    (nmos.G -| 0, 0) node[color=accent]  (in)  {IN}
                    (5, 1) node[color=accent2] (out) {OUT};
            }
            \only<6>{
                \draw [thick]
                    (nmos.G -| 0, 0) node[color=accent2] (in)  {IN}
                    (5, 1) node[color=accent]  (out) {OUT};
            }

            \draw [thick]
                (2.6, 3) node[vcc]{} to [R] (2.6, 1);

            \draw [thick]
                (in.east) to (nmos.G);

            \draw [thick]
                (nmos.S) to [short] ($(nmos.S) - (0, 0.5)$) node[ground]{};

            \draw [thick]
                (nmos.D) to [short] (0, 1 -| nmos.D) to [short] (out.west);

            \only<5> {
                \draw[-, very thick, accent2] (out.north) to
                    [in=90, out=180] (3, 0.9)
                    [in=90, out=-90] (nmos.S -| 2.5, 0);

                \draw[->, very thick, accent2] (3, 3) to
                [in=90, out=-90] (3, 0.9) to
                [in=90, out=-90] ($(nmos.S -| 2.5, 0) - (0, 0.5)$);
            }
            \only<6> {
                \draw[->, very thick, accent] (3, 3) to
                [in=180, out=-90] (out.north);
            }
        \end{maketikzfigure}
    \end{twocolumns}
\end{frame}

\subsection[5min-Max]{Materiaux \rom{2}}
\maxbackground
\begin{comment}
\begin{frame}{Plan}
    \begin{makelist}[\small][1.5]
        \icon[red]{\faTimes} & Complex $\epsilon$ \& $\mu$ \\
        \icon[red]{\faTimes} & Complex Refractive index\\
        \icon[red]{\faTimes} & Losses in dB\\
    \end{makelist}
\end{frame}
\end{comment}
\begin{frame}{Rappel}
    \begin{twocolumns}[0.4]
        \leftcol
            Electric Permittivity [F/m]:
            \begin{equation*}
                \varepsilon =\varepsilon_r \varepsilon_0
            \end{equation*}
            Magnetic Permeabililty [H/m]:
            \begin{equation*}
                \mu =\mu_r \mu_0
            \end{equation*}
            Refractive Index:
            \begin{equation*}
                n =\frac{\sqrt{\varepsilon \mu}}{\sqrt{\varepsilon_0 \mu_0}} = \sqrt{\varepsilon_r \mu_r}
            \end{equation*}
        \rightcol
            Nous avons initialement considéré ces valeurs comme étant des nombre réel $\mathbb{R}$.\\
            \vspace{10pt}
            Cela fonctionne tres bien pour definir des matériaux \textbf{sans pertes}.\\
            \vspace{10pt}
            Par contre, dans la vrai vie, ce sont des nombres complexe $\mathbb{C}$. Cela permet de définir des matériaux \textbf{avec pertes}
    \end{twocolumns}
\end{frame}

\begin{frame}{Matériaux Complexes}
        \begin{twocolumns}[0.6]
        \leftcol
            Indice de Refraction Complexe:
            \begin{equation*}
                \tilde{n} = n + jk
            \end{equation*}
            Permittivitée Complexe:
            \begin{equation*}
                \varepsilon = \epsilon_1 + j \epsilon_2 = (n+jk)^2
            \end{equation*}
            \vspace{5pt}
            \begin{equation*}
                \epsilon_1 = n^2 - k^2
            \end{equation*}
            \begin{equation*}
                \epsilon_2 = 2nk
            \end{equation*}
        \rightcol
           Indice de Refraction:
            \begin{equation*}
                n = \sqrt{\frac{\sqrt{\epsilon_1^2 + \epsilon_2^2}+\epsilon_1}{2}}
            \end{equation*}
           Coefficient d'Extinction:
            \begin{equation*}
                k = \sqrt{\frac{\sqrt{\epsilon_1^2 + \epsilon_2^2}-\epsilon_1}{2}}
            \end{equation*}
        \end{twocolumns}
\end{frame}

\begin{frame}{Coefficient d'Extinction}
    mettre graphique sinusoidale ammortie
    \begin{equation}
        T = e^{-kl}
    \end{equation}
    a valider
\end{frame}


\subsection[5min-Pascal]{Impédances \rom{1}}
\pascalbackground
\begin{frame}{Plan}
    \begin{makelist}[\small][1.5]
        \icon[red]{\faTimes} & PPPPP2\\
        \icon[red]{\faTimes} & Impedance dans le plan complexe\\
        \icon[red]{\faTimes} & Rappel qu'on ignore la conductance G.\\ %On va la resortir plus tard dans la presentation
        \icon[red]{\faTimes} & Propagation Constant (p.56)
    \end{makelist}
\end{frame}

\begin{frame}{Qu'est-ce qu'une impédance?}
    \begin{twocolumns}
        \leftcol
        \begin{itemize}
            \item \textit{J'ai un PPPPP complet là-dessus!}
            \item Rappel
            \bigskip
            \item Résistance complexe, dénoté $Z$, en $\SI{}{\ohm}$
            \item Résistance électrique à une certaine fréquence
            \item Composé de:
            \begin{itemize}
                \item Résistance \textcolor{red}{($R$)}
                \item Réactance Inductive \textcolor{orange}{($X_L$)}
                \item Réactance Capacitive \textcolor{blue}{($X_C$)}
            \end{itemize}
        \end{itemize}

        \rightcol
        \begin{center}
            \Large
            $V = ZI$\\
            \vspace{12pt}
            \textcolor{orange}{
                $X_L = 2\pi f L$\\
            }
            \vspace{12pt}
            \textcolor{blue}{
                $X_C = \dfrac{1}{2\pi f C}$
            }
        \end{center}
    \end{twocolumns}
\end{frame}

\begin{frame}{Graphique d'impédance}
    \begin{twocolumns}
        \leftcol
        \begin{center}
            \only<2->{
                $f = \SI{2}{\mega\hertz}$\\
            }
        \end{center}
        \begin{columns}
            \begin{column}{0.5\textwidth}
                \only<2->{
                \begin{center}
                \textcolor{orange}{
                    $X_L = 2 \pi f L = \SI{126}{\ohm}$\\
                }
                \end{center}
                }
            \end{column}
            \begin{column}{0.5\textwidth}
                \only<3->{
                \begin{center}
                \textcolor{blue}{
                $X_C = \dfrac{1}{2 \pi f C} = \SI{80}{\ohm}$\\
                }
                \end{center}
                }
            \end{column}
        \end{columns}

        \vspace{24pt}

        \begin{maketikzfigure}[1][0.4][american voltages, american currents, cute inductors]
            \draw[thick] (0, 2) to [sV=$V$, l_=$\SI{2}{\mega\hertz}$] (0, -2);

            \only<1>{
                \draw[thick] (0, 2) to [short] (6, 2);
            }
            \only<2->{
                \draw[thick] (0, 2) to [short] (2, 2)
                    to [L, l_=$\SI{10}{\micro\henry}$, color=orange] (4, 2)
                    to [short] (6, 2);
            }
            \only<3>{
                \draw[thick] (4.5, 2)
                    to [C, l_=$\SI{100}{\nano\farad}$, color=blue] (4.5, -2);
            }


            \draw[thick] (6, 2) to
                [R, l=$\SI{220}{\ohm}$, color=red] (6, -2)
                to [short] (0, -2);

        \end{maketikzfigure}

        \rightcol

        \begin{center}
            \only<2->{
                $Z = \sqrt{X^2 + R^2}$\\
                \vspace{12pt}
            }
            \only<2>{
                $Z = \sqrt{126^2 + 220^2} = \SI{250}{\ohm}$\\
            }
            \only<3->{
                $Z = \sqrt{(126 - 80)^2 + 220^2} = \SI{225}{\ohm}$\\
            }
        \end{center}

        \begin{adjustbox}{width=\textwidth, height=0.8\textheight, keepaspectratio}%
            \begin{tikzpicture}
            \only<1>{
                \begin{axis}[
                    axis x line=middle,
                    axis y line=none,
                    xmin=0, xmax=300,
                    ymin=-200, ymax=200,
                    xlabel = \(R (\SI{}{\ohm})\),
                    xtick={0, 100, 200, 300},
                    ytick=\empty,
                    enlargelimits=false,
                    clip=false
                ]
            }
            \only<2->{
                \begin{axis}[
                    axis x line=middle,
                    axis y line=left,
                    xmin=0, xmax=300,
                    ymin=-200, ymax=200,
                    xlabel = \(R (\SI{}{\ohm})\),
                    ylabel = \(X (\SI{}{\ohm})\),
                    xtick={0, 100, 200, 300},
                    ytick={-200, -100, 0, 100, 200},
                    enlargelimits=false,
                    clip=false
                ]
            }
            \draw[->, very thick, red]    (axis cs:0,0) -- (axis cs:220,0);
            \only<2->{
            \draw[->, very thick, orange] (axis cs:0,0) -- (axis cs:0,126);
            }

            \only<3->{
            \draw[->, very thick, blue]   (axis cs:0,0) -- (axis cs:0,-80);
            }


            \only<2>{
            \draw[-, accent, dashed] (axis cs:0,126) -- (axis cs:220,126);
            \draw[-, accent, dashed] (axis cs:220,0) -- (axis cs:220,126);

            \draw[->, very thick, accent] (axis cs:0,0) -- (axis cs:220,126) node[midway, above, sloped] () {$Z = \SI{250}{\ohm}$};
            }

            \only<3>{
            \draw[-, accent, dashed] (axis cs:220,0) -- (axis cs:220,46);

            \draw[->, very thick, accent] (axis cs:0,0) -- (axis cs:220, 46) node[midway, above, sloped] () {$Z = \SI{225}{\ohm}$};
            }
            \end{axis}
            \end{tikzpicture}
        \end{adjustbox}
    \end{twocolumns}
\end{frame}

\begin{frame}{Quote}
    \begin{makelist}[\small][1.5]
        \icon[red]{\faTimes} & L'Électricité prend le chemin avec la plus petite \textbf{Resistance}\\
        \icon[green]{\faCheck} & L'Électricité prend le chemin avec la plus petite \textbf{Impedance}\\
    \end{makelist}
\end{frame}

\subsection[5min-Pascal]{Transmission line \rom{1}}
\pascalbackground
\begin{frame}{Circuit électrique de base}
    \begin{center}
    
    \resizebox{0.9\textwidth}{!}{
    \begin{circuitikz}[american voltages]
        \draw [thick]
        (0,0) to [short, *-] (10,0)
        to [R, l_=$R_{LOAD}$] (10,5)
        (0,0) to [open, v<=$V$] (0,5)
        to [short] (10,5)
        ;
    \end{circuitikz}
    }
    \end{center}
\end{frame}

\begin{frame}{Circuit électrique - Résistance Parasite}
    \begin{center}
    
    \resizebox{0.9\textwidth}{!}{
    \begin{circuitikz}[american voltages]
        \draw [thick]
        (0,0) to [short, *-] (10,0)
        to [R, l_=$R_{LOAD}$] (10,5)
        (0,0) to [open, v<=$V$] (0,5)
        to [short, *- ,i=$i$] (2,5)
        to [R, l_=$R$, color=red] (4, 5)
        to [short] (10,5)
        ;
    \end{circuitikz}
    }
    \end{center}
\end{frame}

\begin{frame}{Circuit électrique - Capacitance Parasite}
    \begin{center}
    
    \resizebox{0.9\textwidth}{!}{
    \begin{circuitikz}[american voltages]
        \draw [thick]
        (0,0) to [short, *-] (10,0)
        to [R, l_=$R_{LOAD}$] (10,5)
        (0,0) to [open, v<=$V$] (0,5)
        to [short, *- ,i=$i$] (2,5)
        to [R, l_=$R$] (4, 5)
        to [short] (10,5)
        (0, 5) to [open] (4, 5)
        to [C, l_=$C$, color=red] (4, 0)
        ;
    \end{circuitikz}
    }
    \end{center}
\end{frame}

\begin{frame}{Circuit électrique - Inductance Parasite}
    \begin{center}
    
    \resizebox{0.9\textwidth}{!}{
    \begin{circuitikz}[american voltages]
        \draw [thick]
        (0,0) to [short, *-] (10,0)
        to [R, l_=$R_{LOAD}$] (10,5)
        (0,0) to [open, v<=$V$] (0,5)
        to [short, *- ,i=$i$] (2,5)
        to [R, l_=$R$] (4, 5)
        to [short] (5, 5)
        to [american inductor, l_=$L$, color=red] (7, 5)
        to [short] (10,5)
        (0, 5) to [open] (4.5, 5)
        to [C, l_=$C$] (4.5, 0)
        ;
    \end{circuitikz}
    }
    \end{center}
\end{frame}


\begin{frame}{Circuit électrique - Conductance Parasite}
    \begin{center}
    
    \resizebox{0.9\textwidth}{!}{
    \begin{circuitikz}[american voltages]
        \draw [thick]
        (0,0) to [short, *-] (10,0)
        to [R, l_=$R_{LOAD}$] (10,5)
        (0,0) to [open, v<=$V$] (0,5)
        to [short, *- ,i=$i$] (2,5)
        to [R, l_=$R$] (4, 5)
        to [short] (7, 5)
        to [american inductor, l_=$L$] (9, 5)
        to [short] (10,5)
        (0, 5) to [open] (4.5, 5)
        to [C, l_=$C$] (4.5, 0)
        (0, 5) to [open] (6, 5)
        to [R, l_=$G$, color=red] (6, 0)
        ;
    \end{circuitikz}
    }
    \end{center}
\end{frame}


\begin{frame}{Ligne de transmission}
    \begin{center}
    \resizebox{0.9\textwidth}{!}{
    \begin{circuitikz}[american voltages]
        \draw [thick]
        (0,0) to [short, *-] (25, 0)
        to [R, l_=$R_{LOAD}$] (25, 5)
        (0,0) to [open, v<=$V$] (0, 5)
        to [short, *- ,i=$i$] (1, 5)
        to [R, l_=$R_1$] (2.5, 5)
        to [short] (5, 5)
        to [american inductor, l_=$L_1$] (6.5, 5)
        
        to [short] (8, 5)
        to [R, l_=$R_2$] (10.5, 5)
        to [short] (13, 5)
        to [american inductor, l_=$L_2$] (14.5, 5)

        to [short] (16, 5)
        to [R, l_=$R_3$] (18.5, 5)
        to [short] (21, 5)
        to [american inductor, l_=$L_3$] (22.5, 5)
        to [short] (22.75, 5)



        (0, 5) to [open] (3, 5)
        to [C, l_=$C_1$] (3, 0)
        (0, 5) to [open] (4.5, 5)
        to [R, l_=$G_1$] (4.5, 0)
        
        (0, 5) to [open] (11, 5)
        to [C, l_=$C_2$] (11, 0)
        (0, 5) to [open] (12.5, 5)
        to [R, l_=$G_2$] (12.5, 0)

        (0, 5) to [open] (19, 5)
        to [C, l_=$C_3$] (19, 0)
        (0, 5) to [open] (20.5, 5)
        to [R, l_=$G_3$] (20.5, 0)
        ;
        \draw[thick, dotted] (23, 5) to [short] (23.5, 5);
        \draw[thick] (23.75, 5) to [short] (25, 5);
    \end{circuitikz}
    }
    \end{center}
\end{frame}



\begin{frame}{Ligne de transmission - Impédance caractéstique}
    \begin{columns}
        \begin{column}{0.85\textwidth}
            \begin{center}
            $Z_0 = \sqrt{\dfrac{R + j \omega L}{G + j \omega C}}$
            \end{center}
        \end{column}
        \begin{column}{0.15\textwidth}
            \small{$G [S] = \dfrac{1}{R}$}
        \end{column}
        
    \end{columns}
    \vfill
    \begin{center}
    \resizebox{!}{0.66\textheight}{
    \begin{circuitikz}[american voltages]
        \draw [thick]
        (0,0) to [short, *-] (10,0)
        to [R, l_=$R_{LOAD}$] (10,5)
        (0,0) to [open, v<=$V$] (0,5)
        to [short, *- ,i=$i$] (2,5)
        to [R, l_=$R$] (4, 5)
        to [short] (7, 5)
        to [american inductor, l_=$L$] (9, 5)
        to [short] (10,5)
        (0, 5) to [open] (4.5, 5)
        to [C, l_=$C$] (4.5, 0)
        (0, 5) to [open] (6, 5)
        to [R, l_=$G$] (6, 0)
        ;
    \end{circuitikz}
    }
    \end{center}
\end{frame}

\begin{frame}{Ligne de transmission - Impédance Caractéristique}
    \begin{columns}
        \begin{column}{0.33\textwidth}
            \begin{center}
            $Z_0 = \sqrt{\dfrac{R + j \omega L}{G + j \omega C}}$\\
            \vspace{20pt}
            $G \rightarrow 0$\\
            $R \lll \omega L$\\
            \vspace{20pt}
            $Z_0 = \sqrt{\dfrac{j \omega L}{j \omega C}}$\\
            \vspace{5pt}
            $Z_0 = \sqrt{\dfrac{L}{C}}$\\
            \end{center}
        \end{column}
        \begin{column}{0.66\textwidth}
            \resizebox{\textwidth}{!}{
            \begin{circuitikz}[american voltages]
                \draw [thick]
                (0,0) to [short, *-] (10,0)
                to [R, l_=$R_{LOAD}$] (10,5)
                (0,0) to [open, v<=$V$] (0,5)
                to [short, *- ,i=$i$] (2,5)
                to [R, l_=$R$] (4, 5)
                to [short] (7, 5)
                to [american inductor, l_=$L$] (9, 5)
                to [short] (10,5)
                (0, 5) to [open] (4.5, 5)
                to [C, l_=$C$] (4.5, 0)
                (0, 5) to [open] (6, 5)
                to [R, l_=$G$] (6, 0)
                ;
            \end{circuitikz}
            }
        \end{column}
    \end{columns}
\end{frame}


\begin{frame}{Impédance Caractéristique}
    \begin{columns}
        \begin{column}{0.5\textwidth}
            \begin{itemize}
                \item Ne dépend pas de la fréquence
                \item Tout circuit a un $Z_0$
                \item Ratio tension/courant se déplaçant
                \bigskip
                \item $Z_0$ ne dépend que de la \textit{géométrie} du circuit
                \item Ratio du E-field vs H-field
            \end{itemize}
        \end{column}
        \begin{column}{0.5\textwidth}
            \begin{center}
                \huge{$Z_0 = \sqrt{\dfrac{L}{C}}$}\\
                \vspace{30pt}
                \resizebox{!}{0.45\textheight}{
                \begin{circuitikz}[american voltages]
                    \draw [line width = 0.5mm]
                    (0,0) to [short, *-] (7,0)
                    to [R, l_=$R_{L}$] (7,5)
                    (0,0) to [open, v<=$V$] (0,5)
                    to [short, *- ] (3,5)
                    to [short] (4, 5)
                    to [american inductor, l_=$L$] (6, 5)
                    to [short] (7,5)
                    (0, 5) to [open] (3, 5)
                    to [C, l_=$C$] (3, 0)
                    ;
                \end{circuitikz}
                }
            \end{center}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{Constante de propagation}
    \begin{twocolumns}
        \leftcol
            \begin{center}
                \textbf{Amplitude à l'entrée vs à un point \boldmath$x$}\\
                $\dfrac{A_0}{A_x} = e^{\gamma x}$\\
                \vspace{12pt}
                \textbf{Constante de propagation \boldmath$\gamma$}\\
                $\gamma = \alpha + j\beta = \alpha + j\left(\frac{2\pi}{\lambda}\right)$\\
                \vspace{12pt}
                \textbf{Constante de phase \boldmath$\beta$}\\
                \textbf{Constante d'atténuation \boldmath$\alpha$}\\
                $\alpha = \alpha_C + \alpha_D + \alpha_G + \alpha_R$
            \begin{twocolumns}[0.6]
                \leftcol
                \begin{center}
                    \small
                    $\alpha_C$: Conductivité métal\\
                    $\alpha_G$: Conductivité diélectrique\\
                \end{center}
                \rightcol
                \begin{center}
                    \small
                    $\alpha_D$: Diélectrique
                    $\alpha_R$: Radiation
                \end{center}
            \end{twocolumns}
            \end{center}
        \rightcol
        \begin{adjustbox}{width=\textwidth, height=0.8\textheight, keepaspectratio}
            \begin{tikzpicture}
                \begin{axis}[
                  title={Amplitude d'une onde électromagnétique vs. distance},
                  xmin=0, xmax=40,
                  ymin=-200, ymax=200,
                  xlabel={Distance (x)},
                  ylabel={Amplitude (\%)},
                  xtick={0,5,...,40},
                  ytick={-150,-100,-50,0,50,100,150},
                  grid=both,
                  major grid style={gray!30},
                  minor grid style={gray!15},
                  legend style={draw=none, fill=none, at={(0.98,0.05)}, anchor=south east},
                  domain=0:40,
                  samples=600,
                  thick,
                  legend style={
                    draw=none,
                    fill=none,
                    font=\small,
                    at={(0.98,0.02)},
                    anchor=south east
                }
                ]

                \addplot[blue] {100*cos(60*x)}; 
                \addlegendentry{Cos($\beta$\,x)}

                \addplot[red] {100*exp(-0.0536*x)};
                \addlegendentry{Exp($-\alpha$\,x)}

                \addplot[accent] {100*exp(-0.0536*x)*cos(60*x)};
                \addlegendentry{Onde composée}

                \end{axis}
            \end{tikzpicture}
        \end{adjustbox}
    \end{twocolumns}
\end{frame}



\subsection[5min-Pascal]{Réflection}
\pascalbackground

\begin{frame}{Réflexions}
    \begin{twocolumns}
        \leftcol
        \begin{itemize}
            \item Un signal sur ligne de transmission avec un certain courant
            \item Courant déterminé par impédance caractéristique et tension
            \item Si l'impédance change, le courant pouvant circuler change
            \item Discontinuité cause des réflexions!
        \end{itemize}
        \rightcol
        \begin{maketikzfigure}
            \draw[thick] (0, 5) to [sV=$\SI{5}{\volt}$] (0, 0);


            \draw[thick] (0, 5) to [short] (1, 5) to 
            [R, l=$\SI{50}{\ohm}$] (3, 5) to
            [short] (4, 5) to
            [R, l=$\SI{100}{\ohm}$] (6, 5) to
            [short] (7, 5);

            \draw[thick] (7, 5) to [short] (7, 0) to [short] (0, 0);

            \draw[very thick, ->, color=accent] (0.5, 4.5) -- (4, 4.5) node[midway, below, sloped] () {$\SI{100}{\milli\ampere}$};
            \draw[thick, ->, color=accent] (4.5, 4.5) -- (6.5, 4.5) node[midway, below, sloped] () {$\SI{50}{\milli\ampere}$};z
        \end{maketikzfigure}
    \end{twocolumns}
\end{frame}

\begin{frame}{Mismatch d'impédance}
    \animategraphics[autoplay, controls, loop, width=\linewidth]{12}{pictures/gif/partial-reflection/partial-reflection-}{0}{51}
\end{frame}

\begin{frame}{Équations de réflexion}
    \begin{twocolumns}[0.66]
        \leftcol
        \begin{center}
            $\Gamma = \dfrac{V_r}{V_i} = -\dfrac{I_r}{I_i}$\\
            \vspace{10pt}
            $\Gamma = \dfrac{Z_L - Z_0}{Z_L + Z_0}$\\
        \end{center}

        \rightcol
        \begin{maketikzfigure}[1][0.25]
            \draw[thick] (0, 2) to [sV] (0, 0);

            \draw[thick] (0, 2) to [R, l=$Z_0$] (4, 2) to
            [R, l=$Z_L$] (4, 0) to [short] (0, 0);
        \end{maketikzfigure}
    \end{twocolumns}
    \vspace{3.33mm}
    \begin{columns}
        \begin{column}{0.33\textwidth}<2->
            \begin{center}
                $Z_L = Z_0$\\
                \vspace{10pt}
                $\Gamma = \dfrac{0}{Z_L + Z_0}$\\
                \vspace{10pt}
                $\Gamma = 0$\\
                \vspace{5pt}
                $V_r = 0$\\
                \vspace{5pt}
                Pas de réflexion!
            \end{center}
        \end{column}
        \begin{column}{0.33\textwidth}<3->
            \begin{center}
                $Z_L = \infty$\\
                \vspace{10pt}
                $\Gamma = \dfrac{\infty}{\infty}$\\
                \vspace{10pt}
                $\Gamma = 1$\\
                \vspace{5pt}
                $V_r = V_i$\\
                \vspace{5pt}
                Même tension réfléchie que rentrante
            \end{center}
        \end{column}
        \begin{column}{0.33\textwidth}<4->
            \begin{center}
                $Z_L = 0$\\
                \vspace{10pt}
                $\Gamma = -\dfrac{Z_0}{Z_0}$\\
                \vspace{10pt}
                $\Gamma = -1$\\
                \vspace{5pt}
                $V_r = -V_i$\\
                \vspace{5pt}
                Tension réfléchie négative
            \end{center}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{Matching d'impédance}
    \begin{twocolumns}[0.55]
        \leftcol
        \begin{itemize}
            \item Une ligne de transmission a une impédance caractéristique $Z_0$
            \item Un mismatch d'impédance entre $Z_0$ et $Z_L$ cause des réflexions
            \begin{itemize}
                \item Peuvent endommager circuit
                \item Nuisent à la qualité du signal
            \end{itemize}
            \item Il existe des techniques de matching d'impédance
            \item Ces effets ne se produisent que dans des lignes de transmissions assez longues
            \begin{itemize}
                \item $\frac{\lambda}{16}$
            \end{itemize}
        \end{itemize}

        \rightcol
        \only<1>{
            \makefigure[0.66][0.66][]{level-3/closed-circuit-pulse-reflection}
        }
        \only<2>{
            \begin{center}
                \begin{align*}
                v &= \frac{c}{\sqrt{\varepsilon_r}} = \SI{150000000}{\meter\per\second}
                \vspace{4pt}
                L &= 1in
                \vspace{4pt}
                \lambda_{min} &= 16L = \SI{0.4}{\meter}
                \vspace{6pt}
                f_{max} &= \frac{v}{\lambda_{min}} = \frac{\SI{150000000}{\meter\per\second}}{\SI{0.4}{\meter}} = \SI{369}{\mega\hertz}$
                \end{align}
            \end{center}
        }
    \end{twocolumns}
\end{frame}



\subsection[5min-Pascal]{Current loops \rom{2}}
\pascalbackground
\begin{frame}{Plan}
    \begin{makelist}[\small][1.5]
        \icon[red]{\faTimes} & GND Loop avec cable(Ou on place ca apres la section noise?)\\
        \icon[red]{\faTimes} & Frequency dependant loop\\
        \icon[red]{\faTimes} & Item 3
    \end{makelist}
\end{frame}

\begin{frame}{Uniformité de l'impédance}
    \begin{twocolumns}
        \leftcol
        \begin{itemize}
            \item Effet de self-inductance
            \item L'impédance n'est pas uniforme sous la trace
            \item Taille de la loop d'inductance
            \item L'impédance est plus faible directement sous la trace!
        \end{itemize}
        \rightcol
        \makefigure[1.0][1.0][]{level-1/pcb-fields}
    \end{twocolumns}
\end{frame}

\begin{frame}{Chemin du courant}
    \begin{columns}
        \begin{column}{0.33\textwidth}
            \begin{center}
                \only<2->{
                \begin{adjustbox}{width=\textwidth, height=0.7\textheight, keepaspectratio}%
                    \begin{tikzpicture}
                        \draw[thick, *-] (0, 0) -- (0, -3);
                        \draw[thick]     (0, -3) -- (2, -3);
                        \draw[thick, -*] (2, -3) -- (2, 0);

                        \draw[thick, dashed, color=accent] (0.25, -0.1) -- (1.75, -0.1);
                        \node[sloped, color=accent] at (1, -3.33) {$f = $\SI{1}{\kilo\hertz}};
                    \end{tikzpicture}
                \end{adjustbox}
                }
            \end{center}
        \end{column}
        \begin{column}{0.33\textwidth}
            \begin{center}
                \only<1, 3->{
                \begin{adjustbox}{width=\textwidth, height=0.7\textheight, keepaspectratio}%
                    \begin{tikzpicture}
                        \draw[thick, *-] (0, 0) -- (0, -3);
                        \draw[thick]     (0, -3) -- (2, -3);
                        \draw[thick, -*] (2, -3) -- (2, 0);

                        \only<1>{
                            \fill[UDSgreenCreativite!50, dashed, fill opacity = 0.2, rounded corners] (-1.5, 1.5) rectangle (3.5, -4.5);

                            \draw[->, thick] (-1, 0) -- (-0.25, 0) node[midway, above, sloped] () {IN};
                            \draw[<-, thick] (2.25, 0) -- (3, 0)  node[midway, above, sloped] () {OUT};

                        }

                        \only<3-> {
                            \draw[thick, dashed, color=accent] (0.25, -0.1) to
                            [in=180, out=-90] (1, -2.9) to
                            [in=-90, out=0] (1.75, -0.1);
                            \node[sloped, color=accent] at (1, -3.33) {$f = $\SI{1}{\mega\hertz}};
                        }
                    \end{tikzpicture}
                \end{adjustbox}
                }
            \end{center}
        \end{column}
        \begin{column}{0.33\textwidth}
            \begin{center}
                \only<4->{
                \begin{adjustbox}{width=\textwidth, height=0.7\textheight, keepaspectratio}%
                    \begin{tikzpicture}
                        \draw[thick, *-] (0, 0) -- (0, -3);
                        \draw[thick]     (0, -3) -- (2, -3);
                        \draw[thick, -*] (2, -3) -- (2, 0);

                        \draw[thick, dashed, color=accent] (0.1, -0.25) to
                        [in=90, out=-90] (0.1, -2.66) to
                        [in=180, out=-90] (1, -2.9) to
                        [in=-90, out=0] (1.9, -2.66) to
                        [in=-90, out=90] (1.9, -0.25);
                        \node[sloped, color=accent] at (1, -3.33) {$f = $\SI{1}{\giga\hertz}};
                    \end{tikzpicture}
                \end{adjustbox}
                }
            \end{center}
        \end{column}
    \end{columns}
\end{frame}

\begin{frame}{Chemin du courant}
    \makefigure{level-3/frequency-dependant-impedance}
\end{frame}

\begin{frame}{Tous les GND ne sont pas égaux!}
    \begin{center}
        \textcolor{UDSgreenFierte}{\faLongArrowAltRight}
        \textbf{Tous les grounds ne sont pas égaux!}
        \textcolor{UDSgreenFierte}{\faLongArrowAltLeft}
    \end{center}

    \pause
    \begin{twocolumns}
        \leftcol
        \makefigure[1][0.5]{level-3/oscilloscope-normal}

        \rightcol
        \makefigure[1][0.5][\cite{hamdand-2011}]{level-3/oscilloscope-improved}
    \end{twocolumns}
\end{frame}
